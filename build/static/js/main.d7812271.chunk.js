(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){e.exports=a(68)},41:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),o=(a(41),a(10)),s=a(13),u=Object(n.createContext)(),i=function(e){var t=e.title,a=e.icon,c=Object(n.useContext)(u),l=c.isAuthenticated,s=(c.login,c.logout),i=c.user,m=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login"))),p=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{style:{color:"#fff"}},r.a.createElement("i",{className:"far fa-user"})," \xa0 Hello ",i&&i.name),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){s()}},"logout")));return r.a.createElement("div",{className:"navbar  bg-primary"},r.a.createElement("h1",null,r.a.createElement("i",{className:a})," \xa0\xa0",t),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/product"},"Product")),l?p:m))},m=Object(n.createContext)(),p=function(e){var t=e.contact,a=Object(n.useContext)(m);return r.a.createElement("div",{className:"contact_card"},r.a.createElement("h1",{className:"name"},t.name," \xa0\xa0",t.type&&r.a.createElement("span",{className:"type ".concat("personal"===t.type?"personal":"professional")},t.type)),t.email&&r.a.createElement("h2",{className:"email"},r.a.createElement("i",{className:"fas fa-envelope-open"}),t.email),t.phone&&r.a.createElement("h2",{className:"email"},r.a.createElement("i",{className:"fas fa-mobile"}),t.phone),r.a.createElement("div",null,r.a.createElement("button",{className:"btn edit_btn",style:{marginRight:"10px"},onClick:function(){a.setCurrent(t)}},"Edit"),r.a.createElement("button",{className:"btn delete_btn",onClick:function(){a.deleteContact(t._id),a.clearCurrent()}},"Delete")))},d=function(){var e=Object(n.useContext)(m),t=Object(n.useRef)(""),a=e.filterContact,c=e.clearFilter,l=e.filterd;Object(n.useEffect)((function(){null===l&&(t.current.value="")}),[l]);return r.a.createElement("input",{type:"text",ref:t,onChange:function(e){""!==t.current.value?a(e.target.value):c()},className:"input",placeholder:"Filter contect"})},E=function(){var e=Object(n.useContext)(m),t=e.contacts,a=e.filterd,c=(e.loading,e.getContacts);return Object(n.useEffect)((function(){c()}),[]),0===t.length?r.a.createElement("h4",null,"Please Add Contacts"):r.a.createElement("div",{className:"contact_row"},r.a.createElement(d,null),null!==a?a.map((function(e){return r.a.createElement(p,{key:e.id,contact:e})})):t.map((function(e){return r.a.createElement(p,{key:e.id,contact:e})})))},f=a(12),v=a(1),y=a(5),h=function(){var e=Object(n.useContext)(m),t=e.addContact,a=e.current,c=e.clearCurrent,l=e.updateContact;Object(n.useEffect)((function(){i(null!==a?a:{name:"",email:"",phone:"",type:"personal"})}),[e,a]);var o=Object(n.useState)({name:"",email:"",phone:"",type:"personal"}),s=Object(y.a)(o,2),u=s[0],i=s[1],p=u.email,d=u.name,E=u.phone,h=u.type,b=function(e){console.log(e.target.name),i(Object(v.a)({},u,Object(f.a)({},e.target.name,e.target.value)))},g=function(e){null===a?t(u):l(u),i({name:"",email:"",phone:"",type:"personal"})};return r.a.createElement("div",{style:{width:"400px"}},r.a.createElement("h1",null,a?"Edit Contact":"Add Contact"),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:d,className:"input",onChange:b})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:p,className:"input",onChange:b})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{type:"phone",name:"phone",value:E,className:"input",onChange:b})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Contact Type"),r.a.createElement("input",{type:"radio",name:"type",value:"personal",className:"",onChange:b,checked:"personal"===h})," Personal \xa0 \xa0",r.a.createElement("input",{type:"radio",name:"type",value:"professional",className:"",onChange:b,checked:"professional"===h}),"professional"),r.a.createElement("div",{className:"form_group",onClick:g},r.a.createElement("button",{className:"btn edit_btn"},a?"Save Contact":"Add Contact")),a&&r.a.createElement("div",{className:"form_group",onClick:g},r.a.createElement("button",{className:"btn clear_btn",onClick:function(){c()}},"Clear")))},b=function(){var e=Object(n.useContext)(u);return Object(n.useEffect)((function(){e.loadUser()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("div",{className:"row"},r.a.createElement(h,null),r.a.createElement(E,null)))},g=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"This is a contact Keeper v1.0"))},C=a(2),O=a.n(C),R=a(4),N=a.n(R),_=a(15),T=function(e,t){switch(t.type){case"ADD_CONTACT":return Object(v.a)({},e,{contacts:[].concat(Object(_.a)(e.contacts),[t.payload])});case"GET_CONTACTS":return Object(v.a)({},e,{contacts:t.payload,loading:!1});case"UPDATE_CONTACT":return Object(v.a)({},e,{contacts:e.contacts.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case"FILTER_CONTACTS":return Object(v.a)({},e,{filterd:e.contacts.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.email.match(a)})),loading:!1});case"CLEAR_FILTER":return Object(v.a)({},e,{filterd:null,loading:!1});case"DELETE_CONTACT":return Object(v.a)({},e,{contacts:e.contacts.filter((function(e){return e._id!==t.payload})),loading:!1});case"SET_CURRENT":return Object(v.a)({},e,{current:t.payload});case"CLEAR_CURRENT":return Object(v.a)({},e,{current:null});case"CONTACTS_ERROR":return Object(v.a)({},e,{error:t.payload,loading:!1});default:return e}},j=function(e){var t=Object(n.useReducer)(T,{contacts:[],current:null,filterd:null,error:null}),a=Object(y.a)(t,2),c=a[0],l=a[1];return r.a.createElement(m.Provider,{value:{contacts:c.contacts,filterd:c.filterd,current:c.current,addContact:function(e){var t,a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,O.a.awrap(N.a.post("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/contacts",e,t));case 4:a=n.sent,l({type:"ADD_CONTACT",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),l({type:"CONTACTS_ERROR",payload:n.t0.response.msg});case 11:case"end":return n.stop()}}),null,null,[[1,8]])},deleteContact:function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.awrap(N.a.delete("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/contacts/".concat(e)));case 3:l({type:"DELETE_CONTACT",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),l({type:"CONTACTS_ERROR",payload:t.t0.response.msg});case 9:case"end":return t.stop()}}),null,null,[[0,6]])},setCurrent:function(e){l({type:"SET_CURRENT",payload:e})},clearCurrent:function(){l({type:"CLEAR_CURRENT"})},updateContact:function(e){var t,a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,O.a.awrap(N.a.put("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/contacts/".concat(e._id),e,t));case 4:a=n.sent,l({type:"UPDATE_CONTACT",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),l({type:"CONTACTS_ERROR",payload:n.t0.response.msg});case 11:case"end":return n.stop()}}),null,null,[[1,8]])},filterContact:function(e){l({type:"FILTER_CONTACTS",payload:e})},clearFilter:function(){l({type:"CLEAR_FILTER"})},error:c.error,getContacts:function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.awrap(N.a.get("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/contacts"));case 3:e=t.sent,l({type:"GET_CONTACTS",payload:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l({type:"CONTACTS_ERROR",payload:t.t0.response.msg});case 10:case"end":return t.stop()}}),null,null,[[0,7]])}}},e.children)},x=function(e,t){switch(t.type){case"USER_LOADED":return Object(v.a)({},e,{user:t.payload,isAuthenticated:!0,loading:!1});case"REGISTER_SUCCESS":case"LOGIN_SUCESS":return localStorage.setItem("token",t.payload.token),Object(v.a)({},e,{},t.payload,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(v.a)({},e,{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(v.a)({},e,{error:null})}},A=function(e){N.a.defaults.headers.common["x-auth-token"]=e||""},w=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,error:null,user:null},a=Object(n.useReducer)(x,t),c=Object(y.a)(a,2),l=c[0],o=c[1],s=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&A(localStorage.token),t.prev=1,t.next=4,O.a.awrap(N.a.get("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/auth"));case 4:e=t.sent,o({type:"USER_LOADED",payload:e.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),o({type:"AUTH_ERROR"});case 11:case 12:case"end":return t.stop()}}),null,null,[[1,8]])};return r.a.createElement(u.Provider,{value:{token:l.token,isAuthenticated:l.isAuthenticated,loading:l.loading,error:l.error,user:l.user,registerUser:function(e){var t,a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,O.a.awrap(N.a.post("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/users",e,t));case 4:a=n.sent,o({type:"REGISTER_SUCCESS",payload:a.data}),s(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),o({type:"REGISTER_FAIL",payload:n.t0.response.data.msg});case 12:case"end":return n.stop()}}),null,null,[[1,9]])},loadUser:s,login:function(e){var t,a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,O.a.awrap(N.a.post("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/auth",e,t));case 4:a=n.sent,o({type:"LOGIN_SUCESS",payload:a.data}),s(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),o({type:"LOGIN_FAIL",payload:n.t0.response.data.msg});case 12:case 13:case"end":return n.stop()}}),null,null,[[1,9]])},logout:function(){o({type:"LOGOUT"})},clearError:function(){o({type:"CLEAR_ERRORS"})}}},e.children)},S=Object(n.createContext)(),k=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(_.a)(e),[t.payload]);case"REMOVE_ALERT":default:return e}},L=a(34),P=a.n(L),U=function(e){var t=Object(n.useReducer)(k,[]),a=Object(y.a)(t,2),c=a[0],l=a[1];return r.a.createElement(S.Provider,{value:{alerts:c,setAlert:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var a=P.a.v4();l({type:"SET_ALERT",payload:{msg:e,type:t,id:a}})},clearAlert:function(){l({type:"REMOVE_ALERT"})}}},e.children)},I=function(e){var t=Object(n.useContext)(S),a=Object(n.useContext)(u),c=a.registerUser,l=a.error,o=a.clearError,s=a.isAuthenticated,i=Object(n.useState)({name:"",email:"",password:"",password2:""}),m=Object(y.a)(i,2),p=m[0],d=m[1],E=p.name,h=p.email,b=p.password,g=p.password2;Object(n.useEffect)((function(){s&&e.history.push("/"),"user already exitis"===l&&t.setAlert("User already register"),o()}),[l,s,e.history]);var C=function(e){d(Object(v.a)({},p,Object(f.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Account Register"),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:E,onChange:C,className:"input"})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:h,onChange:C,className:"input"})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:b,onChange:C,className:"input"})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Re Password"),r.a.createElement("input",{type:"text",name:"password2",value:g,onChange:C,className:"input"})),r.a.createElement("div",{className:"form_group"},r.a.createElement("button",{className:"btn edit_btn",onClick:function(){""!==E&&""!==h&&""!==b||t.setAlert("please Enter all field","danger"),b!==g?t.setAlert("Password dose't match ","danger"):c({name:E,email:h,password:b})}},"Register")))},D=function(e){var t=Object(n.useContext)(S),a=Object(n.useContext)(u),c=a.login,l=a.error,o=a.clearError,s=a.isAuthenticated,i=Object(n.useState)({email:"",password:""}),m=Object(y.a)(i,2),p=m[0],d=m[1],E=p.email,h=p.password,b=function(e){d(Object(v.a)({},p,Object(f.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){s&&e.history.push("/"),"invalid user"===l&&t.setAlert("invalid user"),o()}),[l,s,e.history]);return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Account Login"),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:E,onChange:b,className:"input"})),r.a.createElement("div",{className:"form_group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:h,onChange:b,className:"input"})),r.a.createElement("div",{className:"form_group"},r.a.createElement("button",{className:"btn edit_btn",onClick:function(){""===E||""===h?t.setAlert("invalid user name"):c({email:E,password:h})}},"Login")))},F=function(){var e=Object(n.useContext)(S);return r.a.createElement(r.a.Fragment,null,e&&e.alerts.length>0&&e.alerts.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert  alert_".concat(e.type)},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),e.msg)})))},G=a(35),z=function(e){var t=e.component,a=Object(G.a)(e,["component"]),c=Object(n.useContext)(u),l=c.isAuthenticated,o=c.loading;return console.log("isAuthenticated",l),r.a.createElement(s.b,Object.assign({},a,{render:function(e){return l||o?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))},B=Object(n.createContext)(),H=function(e,t){switch(t.type){case"GET_ALL_PRODUCT":return Object(v.a)({},e,{products:t.payload});case"GET_PRODUCT_BY_ID":return Object(v.a)({},e,{currentProduct:t.payload});default:return e}},M=function(e){var t=Object(n.useReducer)(H,{products:[],currentProduct:null,filterd:null,error:null}),a=Object(y.a)(t,2),c=a[0],l=a[1];return r.a.createElement(B.Provider,{value:{products:c.products,getProduct:function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.awrap(N.a.get("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/product"));case 3:e=t.sent,l({type:"GET_ALL_PRODUCT",payload:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l({type:"PRODUCT_ERROR",payload:t.t0.response});case 10:case"end":return t.stop()}}),null,null,[[0,7]])},getProductById:function(e){var t;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O.a.awrap(N.a.get("http://ec2-52-66-74-51.ap-south-1.compute.amazonaws.com:5000/api/product/".concat(e)));case 3:t=a.sent,l({type:"GET_PRODUCT_BY_ID",payload:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),l({type:"PRODUCT_ERROR",payload:a.t0.response});case 10:case"end":return a.stop()}}),null,null,[[0,7]])},currentProduct:c.currentProduct}},e.children)},J=function(e){var t=e.product,a=t.name,n=(t.decription,t.price),c=t.images,l=t.avalibale,o=t.offer;return console.log("FROM CARD",t),r.a.createElement("div",{id:"product-front"},!l&&r.a.createElement("div",{className:"p_not_avalibal"},"Out of stock"),o&&r.a.createElement("div",{className:"offer"},o," OFF"),r.a.createElement("div",{className:"shadow"}),r.a.createElement("div",{style:{textAlign:"center"}},c&&c.map((function(e,t){if(0===t)return r.a.createElement("img",{src:e,alt:a,style:{height:"200px"}})}))),r.a.createElement("div",{className:"stats",style:{marginTop:"10px"}},r.a.createElement("div",{className:"stats-container"},r.a.createElement("div",{className:"product_name"},a&&a.substr(0,20)+"..."),r.a.createElement("div",{className:"product_price"},r.a.createElement("span",{style:{textDecoration:"line-through",color:"#222"}},n.fprice)," \xa0\xa0",r.a.createElement("span",null,n.price)),r.a.createElement("p",null))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",null,"Add Cart"),r.a.createElement("button",null,"Buy Now")),!l&&r.a.createElement("button",null,"Notify me")))},K=function(){var e=Object(n.useContext)(B),t=e.getProduct,a=e.products;return Object(n.useEffect)((function(){t()}),[]),console.log(a),r.a.createElement("div",{style:{width:"100%",display:"flex"}},a&&a.map((function(e,t){return r.a.createElement("div",{style:{width:"300px",margin:"10px"}},r.a.createElement(J,{key:t,product:e}))})))},V=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Our Product"),r.a.createElement(K,null))};localStorage.token&&A(localStorage.token);var Y=function(){return r.a.createElement(M,null,r.a.createElement(w,null,r.a.createElement(j,null,r.a.createElement(U,null,r.a.createElement(o.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{title:"contact Keeper",icon:"fas fa-id-card-alt"}),r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement(s.d,null,r.a.createElement(z,{exact:!0,path:"/",component:b}),r.a.createElement(s.b,{exact:!0,path:"/about",component:g}),r.a.createElement(s.b,{exact:!0,path:"/register",component:I}),r.a.createElement(s.b,{exact:!0,path:"/login",component:D}),r.a.createElement(s.b,{exact:!0,path:"/product",component:V})))))))))};l.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.d7812271.chunk.js.map